<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PaiePro - Dashboard de Gestion de Paie pour PME</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
            --success-color: #4cc9f0;
            --danger-color: #f72585;
            --warning-color: #ff9e00;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --gray-color: #6c757d;
            --light-gray: #e9ecef;
            --border-radius: 10px;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
            --smooth-transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fb;
            color: var(--dark-color);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            display: flex;
            min-height: 100vh;
            transition: var(--smooth-transition);
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background-color: white;
            box-shadow: var(--box-shadow);
            padding: 25px 20px;
            display: flex;
            flex-direction: column;
            z-index: 100;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            transform: translateX(0);
            transition: var(--smooth-transition);
        }

        .sidebar.collapsed {
            transform: translateX(-100%);
        }

        .logo {
            display: flex;
            align-items: center;
            margin-bottom: 40px;
        }

        .logo i {
            font-size: 28px;
            color: var(--primary-color);
            margin-right: 10px;
        }

        .logo h1 {
            font-size: 22px;
            color: var(--primary-color);
        }

        .logo span {
            color: var(--dark-color);
        }

        .nav-links {
            list-style: none;
            flex-grow: 1;
        }

        .nav-links li {
            margin-bottom: 10px;
        }

        .nav-links a {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border-radius: var(--border-radius);
            color: var(--dark-color);
            text-decoration: none;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .nav-links a::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 0;
            background-color: rgba(67, 97, 238, 0.1);
            transition: var(--smooth-transition);
            z-index: -1;
        }

        .nav-links a:hover::before {
            width: 100%;
        }

        .nav-links a:hover {
            color: var(--primary-color);
            transform: translateX(5px);
        }

        .nav-links a.active {
            background-color: var(--primary-color);
            color: white;
        }

        .nav-links a.active:hover {
            transform: none;
        }

        .nav-links i {
            margin-right: 12px;
            font-size: 18px;
        }

        .user-profile {
            display: flex;
            align-items: center;
            padding: 15px 10px;
            border-top: 1px solid var(--light-gray);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 12px;
        }

        .user-info h4 {
            font-size: 14px;
        }

        .user-info p {
            font-size: 12px;
            color: var(--gray-color);
        }

        /* Main Content */
        .main-content {
            flex-grow: 1;
            padding: 30px;
            overflow-y: auto;
            margin-left: 250px;
            transition: var(--smooth-transition);
            opacity: 1;
            transform: translateY(0);
        }

        .main-content.full-width {
            margin-left: 0;
        }

        .main-content.fade-out {
            opacity: 0;
            transform: translateY(20px);
        }

        .main-content.fade-in {
            animation: fadeIn 0.6s ease forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            animation: slideDown 0.5s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header h2 {
            color: var(--dark-color);
            font-weight: 600;
        }

        .date-display {
            color: var(--gray-color);
            font-size: 14px;
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 24px;
            color: var(--primary-color);
            cursor: pointer;
            margin-right: 15px;
        }

        /* Stats Cards */
        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
            animation: fadeInUp 0.7s ease 0.1s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .stat-card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--box-shadow);
            display: flex;
            align-items: center;
            transition: var(--smooth-transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .stat-card::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--primary-color);
            transform: scaleX(0);
            transition: var(--smooth-transition);
            transform-origin: left;
        }

        .stat-card:hover::after {
            transform: scaleX(1);
        }

        .stat-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.12);
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 24px;
            transition: var(--smooth-transition);
        }

        .stat-card:hover .stat-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .stat-icon.employees {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary-color);
        }

        .stat-icon.payroll {
            background-color: rgba(76, 201, 240, 0.1);
            color: var(--success-color);
        }

        .stat-icon.paid {
            background-color: rgba(76, 201, 240, 0.1);
            color: var(--success-color);
        }

        .stat-info h3 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .stat-info p {
            color: var(--gray-color);
            font-size: 14px;
        }

        /* Main Dashboard Content */
        .dashboard-content {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 30px;
            animation: fadeInUp 0.7s ease 0.2s both;
        }

        /* Employees Table */
        .section {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            margin-bottom: 30px;
            transition: var(--smooth-transition);
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease forwards;
        }

        .section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-header h3 {
            color: var(--dark-color);
            font-weight: 600;
        }

        .btn {
            padding: 10px 20px;
            border-radius: var(--border-radius);
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: var(--smooth-transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }

        .btn:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }

        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            20% {
                transform: scale(25, 25);
                opacity: 0.3;
            }
            100% {
                transform: scale(40, 40);
                opacity: 0;
            }
        }

        .btn i {
            margin-right: 8px;
            transition: var(--transition);
        }

        .btn:hover i {
            transform: translateX(3px);
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--secondary-color);
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(67, 97, 238, 0.3);
        }

        .btn-success {
            background-color: var(--success-color);
            color: white;
        }

        .btn-success:hover {
            background-color: #2cb5e0;
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(76, 201, 240, 0.3);
        }

        .btn-warning {
            background-color: var(--warning-color);
            color: white;
        }

        .btn-warning:hover {
            background-color: #e68a00;
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(255, 158, 0, 0.3);
        }

        .btn-sm {
            padding: 6px 12px;
            font-size: 13px;
        }

        .btn-block {
            width: 100%;
            margin-top: 10px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background-color: var(--light-gray);
        }

        th {
            text-align: left;
            padding: 15px;
            font-weight: 600;
            color: var(--dark-color);
            border-bottom: 2px solid var(--light-gray);
        }

        td {
            padding: 15px;
            border-bottom: 1px solid var(--light-gray);
            transition: var(--transition);
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr {
            transition: var(--smooth-transition);
        }

        tr:hover {
            transform: translateX(5px);
        }

        tr:hover td {
            background-color: rgba(67, 97, 238, 0.05);
        }

        .employee-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: var(--smooth-transition);
        }

        tr:hover .employee-avatar {
            transform: scale(1.1);
        }

        .employee-info {
            display: flex;
            align-items: center;
        }

        .employee-info .employee-avatar {
            margin-right: 12px;
        }

        .status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            transition: var(--smooth-transition);
        }

        .status.paid {
            background-color: rgba(76, 201, 240, 0.1);
            color: var(--success-color);
        }

        .status.pending {
            background-color: rgba(255, 158, 0, 0.1);
            color: var(--warning-color);
        }

        .status.unpaid {
            background-color: rgba(247, 37, 133, 0.1);
            color: var(--danger-color);
        }

        /* Payroll Summary */
        .payroll-summary {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            animation: fadeInUp 0.7s ease 0.3s both;
        }

        .payroll-summary h3 {
            color: var(--dark-color);
            font-weight: 600;
            margin-bottom: 20px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--light-gray);
            transition: var(--transition);
        }

        .summary-item:hover {
            padding-left: 10px;
            padding-right: 10px;
            background-color: rgba(0, 0, 0, 0.02);
            border-radius: 5px;
        }

        .summary-item.total {
            font-weight: 700;
            font-size: 18px;
            border-bottom: none;
            padding-top: 10px;
            margin-top: 10px;
            border-top: 2px solid var(--light-gray);
        }

        .amount {
            font-weight: 600;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.4s ease;
        }

        .modal-content {
            background-color: white;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 500px;
            padding: 30px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
            animation: modalSlideIn 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform-origin: center;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-60px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .modal-header h3 {
            color: var(--dark-color);
            font-weight: 600;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--gray-color);
            transition: var(--transition);
        }

        .close-modal:hover {
            color: var(--dark-color);
            transform: rotate(90deg);
        }

        .form-group {
            margin-bottom: 20px;
            animation: fadeInUp 0.5s ease;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark-color);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--light-gray);
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: var(--smooth-transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
            transform: translateY(-2px);
        }

        /* Pay All Button */
        .pay-all-section {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            margin-top: 30px;
            animation: fadeInUp 0.7s ease 0.4s both;
            transition: var(--smooth-transition);
        }

        .pay-all-section:hover {
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12);
        }

        .pay-all-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .pay-all-header i {
            font-size: 32px;
            color: var(--success-color);
            margin-right: 15px;
            transition: var(--smooth-transition);
        }

        .pay-all-section:hover .pay-all-header i {
            transform: scale(1.1) rotate(10deg);
        }

        .pay-all-header h3 {
            color: var(--dark-color);
            font-weight: 600;
        }

        .pay-all-info {
            background-color: rgba(76, 201, 240, 0.1);
            border-radius: var(--border-radius);
            padding: 15px;
            margin-bottom: 20px;
            font-size: 14px;
            color: var(--dark-color);
            transition: var(--smooth-transition);
        }

        .pay-all-section:hover .pay-all-info {
            transform: translateY(-3px);
            background-color: rgba(76, 201, 240, 0.15);
        }

        /* Page content styles */
        .page-content {
            padding: 20px;
        }

        .page-header {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--light-gray);
        }

        .page-header h1 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .page-description {
            color: var(--gray-color);
            font-size: 16px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .feature-card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--box-shadow);
            transition: var(--smooth-transition);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 20px;
            color: white;
            background-color: var(--primary-color);
        }

        .feature-card h3 {
            margin-bottom: 10px;
            color: var(--dark-color);
        }

        .feature-card p {
            color: var(--gray-color);
            line-height: 1.6;
        }

        /* Scroll animations */
        .scroll-animate {
            opacity: 0;
            transform: translateY(30px);
            transition: var(--smooth-transition);
        }

        .scroll-animate.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Page transitions */
        .page {
            display: none;
            animation: fadeIn 0.6s ease;
        }

        .page.active {
            display: block;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .dashboard-content {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 992px) {
            .sidebar {
                transform: translateX(-100%);
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .menu-toggle {
                display: block;
            }
            
            .nav-links {
                display: block;
                margin-bottom: 15px;
            }
            
            .nav-links li {
                margin-bottom: 10px;
            }
            
            .user-profile {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .stats-cards {
                grid-template-columns: 1fr;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .section-header h3 {
                margin-bottom: 15px;
            }
            
            table {
                display: block;
                overflow-x: auto;
            }
            
            .btn {
                padding: 8px 16px;
                font-size: 14px;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Progress bar for pay all */
        .progress-bar {
            width: 100%;
            height: 5px;
            background-color: var(--light-gray);
            border-radius: 5px;
            overflow: hidden;
            margin: 15px 0;
            display: none;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--success-color);
            width: 0%;
            transition: width 1.5s ease;
        }

        /* Success animation */
        @keyframes successPulse {
            0% { box-shadow: 0 0 0 0 rgba(76, 201, 240, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(76, 201, 240, 0); }
            100% { box-shadow: 0 0 0 0 rgba(76, 201, 240, 0); }
        }

        .success-animation {
            animation: successPulse 1.5s;
        }

        /* Floating notification */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--success-color);
            color: white;
            padding: 15px 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            z-index: 1001;
            transform: translateY(100px);
            opacity: 0;
            transition: var(--smooth-transition);
            display: flex;
            align-items: center;
        }

        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        .notification i {
            margin-right: 10px;
            font-size: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <i class="fas fa-calculator"></i>
                <h1>Paie<span>Pro</span></h1>
            </div>
            
            <ul class="nav-links">
                <li><a href="#" class="nav-link active" data-page="dashboard"><i class="fas fa-home"></i> Tableau de bord</a></li>
                <li><a href="#" class="nav-link" data-page="employees"><i class="fas fa-users"></i> Employés</a></li>
                <li><a href="#" class="nav-link" data-page="payroll"><i class="fas fa-file-invoice-dollar"></i> Paie</a></li>
                <li><a href="#" class="nav-link" data-page="reports"><i class="fas fa-chart-bar"></i> Rapports</a></li>
                <li><a href="#" class="nav-link" data-page="settings"><i class="fas fa-cog"></i> Paramètres</a></li>
                <li><a href="#" class="nav-link" data-page="help"><i class="fas fa-question-circle"></i> Aide</a></li>
            </ul>
            
            <div class="user-profile">
                <div class="user-avatar">JD</div>
                <div class="user-info">
                    <h4>Jean Dubois</h4>
                    <p>Gérant</p>
                </div>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="main-content" id="main-content">
            <!-- Header -->
            <div class="header">
                <button class="menu-toggle" id="menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div>
                    <h2 id="page-title">Tableau de bord - Gestion de paie</h2>
                    <div class="date-display">
                        <i class="far fa-calendar-alt"></i> 
                        <span id="current-date">20 octobre 2023</span>
                    </div>
                </div>
                <div></div> <!-- Empty div for flex spacing -->
            </div>
            
            <!-- Dashboard Page -->
            <div class="page active" id="dashboard-page">
                <!-- Stats Cards -->
                <div class="stats-cards">
                    <div class="stat-card" data-scroll="true" data-action="employees">
                        <div class="stat-icon employees">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-employees">12</h3>
                            <p>Employés</p>
                        </div>
                    </div>
                    
                    <div class="stat-card" data-scroll="true" data-action="payroll">
                        <div class="stat-icon payroll">
                            <i class="fas fa-euro-sign"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-payroll">€24,580</h3>
                            <p>Masse salariale ce mois</p>
                        </div>
                    </div>
                    
                    <div class="stat-card" data-scroll="true" data-action="payroll">
                        <div class="stat-icon paid">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="paid-count">8</h3>
                            <p>Salaires payés</p>
                        </div>
                    </div>
                </div>
                
                <!-- Main Dashboard Content -->
                <div class="dashboard-content">
                    <!-- Left Column: Employees List -->
                    <div class="left-column">
                        <div class="section scroll-animate" data-scroll="true">
                            <div class="section-header">
                                <h3>Liste des employés</h3>
                                <button class="btn btn-primary" id="add-employee-btn">
                                    <i class="fas fa-plus"></i> Ajouter un employé
                                </button>
                            </div>
                            
                            <table id="employees-table">
                                <thead>
                                    <tr>
                                        <th>Employé</th>
                                        <th>Poste</th>
                                        <th>Salaire brut</th>
                                        <th>Statut paie</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="employees-tbody">
                                    <!-- Les employés seront ajoutés dynamiquement ici -->
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- Pay All Section -->
                        <div class="pay-all-section scroll-animate" data-scroll="true">
                            <div class="pay-all-header">
                                <i class="fas fa-bolt"></i>
                                <div>
                                    <h3>Paiement groupé des salaires</h3>
                                    <p>Effectuez tous les paiements de salaire en un seul clic</p>
                                </div>
                            </div>
                            
                            <div class="pay-all-info">
                                <p><i class="fas fa-info-circle"></i> Cette action va transférer les salaires de tous les employés dont le statut est "En attente". Vérifiez les montants avant de procéder.</p>
                            </div>
                            
                            <div class="progress-bar" id="pay-progress">
                                <div class="progress-fill"></div>
                            </div>
                            
                            <button class="btn btn-success btn-block" id="pay-all-btn">
                                <i class="fas fa-money-check-alt"></i> PAYER TOUT (€<span id="pay-all-amount">15,320</span>)
                            </button>
                        </div>
                    </div>
                    
                    <!-- Right Column: Payroll Summary -->
                    <div class="right-column">
                        <div class="payroll-summary scroll-animate" data-scroll="true">
                            <h3>Résumé de la paie</h3>
                            
                            <div class="summary-item">
                                <span>Salaire brut total</span>
                                <span class="amount">€24,580</span>
                            </div>
                            
                            <div class="summary-item">
                                <span>Charges sociales (20%)</span>
                                <span class="amount">€4,916</span>
                            </div>
                            
                            <div class="summary-item">
                                <span>Cotisations patronales</span>
                                <span class="amount">€3,450</span>
                            </div>
                            
                            <div class="summary-item">
                                <span>Net à payer</span>
                                <span class="amount">€19,664</span>
                            </div>
                            
                            <div class="summary-item total">
                                <span>Coût total</span>
                                <span class="amount">€28,030</span>
                            </div>
                            
                            <button class="btn btn-primary btn-block" id="generate-payslips-btn">
                                <i class="fas fa-file-pdf"></i> Générer tous les bulletins
                            </button>
                            
                            <button class="btn btn-warning btn-block" id="export-data-btn">
                                <i class="fas fa-download"></i> Exporter les données
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Employees Page -->
            <div class="page" id="employees-page">
                <div class="page-header">
                    <h1>Gestion des Employés</h1>
                    <p class="page-description">Gérez tous les employés de votre entreprise, ajoutez de nouveaux collaborateurs, modifiez leurs informations et suivez leur statut de paie.</p>
                </div>
                
                <div class="features-grid">
                    <div class="feature-card scroll-animate" data-scroll="true">
                        <div class="feature-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <h3>Ajouter un employé</h3>
                        <p>Ajoutez rapidement un nouvel employé avec toutes ses informations : coordonnées, poste, salaire et informations bancaires.</p>
                        <button class="btn btn-primary" style="margin-top: 15px;" id="add-employee-btn-2">
                            <i class="fas fa-plus"></i> Ajouter un employé
                        </button>
                    </div>
                    
                    <div class="feature-card scroll-animate" data-scroll="true">
                        <div class="feature-icon" style="background-color: var(--success-color);">
                            <i class="fas fa-list"></i>
                        </div>
                        <h3>Liste complète</h3>
                        <p>Consultez la liste complète de tous vos employés avec leurs informations détaillées et leur statut de paie actuel.</p>
                        <button class="btn btn-success" style="margin-top: 15px;" onclick="navigateToPage('dashboard')">
                            <i class="fas fa-eye"></i> Voir la liste
                        </button>
                    </div>
                    
                    <div class="feature-card scroll-animate" data-scroll="true">
                        <div class="feature-icon" style="background-color: var(--warning-color);">
                            <i class="fas fa-file-export"></i>
                        </div>
                        <h3>Export des données</h3>
                        <p>Exportez les données de vos employés dans différents formats (CSV, Excel, PDF) pour un usage externe ou pour archiver.</p>
                        <button class="btn btn-warning" style="margin-top: 15px;" onclick="exportData()">
                            <i class="fas fa-download"></i> Exporter les données
                        </button>
                    </div>
                </div>
                
                <div class="section" style="margin-top: 30px;">
                    <h3>Statistiques des employés</h3>
                    <p>Visualisez rapidement les informations clés concernant vos employés :</p>
                    
                    <div class="stats-cards" style="margin-top: 20px;">
                        <div class="stat-card">
                            <div class="stat-icon employees">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="total-employees-2">12</h3>
                                <p>Total employés</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon payroll">
                                <i class="fas fa-euro-sign"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="avg-salary">€3,048</h3>
                                <p>Salaire moyen</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon paid">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="active-employees">12</h3>
                                <p>Employés actifs</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Payroll Page -->
            <div class="page" id="payroll-page">
                <div class="page-header">
                    <h1>Gestion de la Paie</h1>
                    <p class="page-description">Gérez tous les aspects de la paie de votre entreprise : bulletins de salaire, paiements, régularisations et déclarations sociales.</p>
                </div>
                
                <div class="features-grid">
                    <div class="feature-card scroll-animate" data-scroll="true">
                        <div class="feature-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h3>Paiement groupé</h3>
                        <p>Effectuez le paiement de tous les salaires en un seul clic avec notre système de transfert groupé sécurisé.</p>
                        <button class="btn btn-primary" style="margin-top: 15px;" onclick="navigateToPage('dashboard'); setTimeout(() => document.getElementById('pay-all-btn').scrollIntoView({behavior: 'smooth'}), 600);">
                            <i class="fas fa-money-check-alt"></i> Payer tout
                        </button>
                    </div>
                    
                    <div class="feature-card scroll-animate" data-scroll="true">
                        <div class="feature-icon" style="background-color: var(--success-color);">
                            <i class="fas fa-file-pdf"></i>
                        </div>
                        <h3>Bulletins de paie</h3>
                        <p>Générez et envoyez automatiquement les bulletins de paie à tous vos employés par email.</p>
                        <button class="btn btn-success" style="margin-top: 15px;" onclick="generatePayslips()">
                            <i class="fas fa-file-pdf"></i> Générer bulletins
                        </button>
                    </div>
                    
                    <div class="feature-card scroll-animate" data-scroll="true">
                        <div class="feature-icon" style="background-color: var(--warning-color);">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <h3>Simulateur de paie</h3>
                        <p>Calculez rapidement le coût total d'un salaire en intégrant toutes les charges sociales et patronales.</p>
                        <button class="btn btn-warning" style="margin-top: 15px;" onclick="showNotification('Simulateur de paie ouvert!', 'info')">
                            <i class="fas fa-calculator"></i> Ouvrir simulateur
                        </button>
                    </div>
                </div>
                
                <div class="section" style="margin-top: 30px;">
                    <div class="section-header">
                        <h3>Résumé mensuel de la paie</h3>
                        <button class="btn btn-primary" onclick="showNotification('Rapport détaillé généré!', 'success')">
                            <i class="fas fa-download"></i> Télécharger rapport
                        </button>
                    </div>
                    
                    <div class="payroll-summary">
                        <div class="summary-item">
                            <span>Salaire brut total</span>
                            <span class="amount">€24,580</span>
                        </div>
                        
                        <div class="summary-item">
                            <span>Charges sociales salariales</span>
                            <span class="amount">€4,916</span>
                        </div>
                        
                        <div class="summary-item">
                            <span>Cotisations patronales</span>
                            <span class="amount">€3,450</span>
                        </div>
                        
                        <div class="summary-item">
                            <span>Net à payer aux employés</span>
                            <span class="amount">€19,664</span>
                        </div>
                        
                        <div class="summary-item total">
                            <span>Coût total pour l'entreprise</span>
                            <span class="amount">€28,030</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Reports Page -->
            <div class="page" id="reports-page">
                <div class="page-header">
                    <h1>Rapports et Statistiques</h1>
                    <p class="page-description">Analysez les données de paie de votre entreprise avec des rapports détaillés et des visualisations graphiques.</p>
                </div>
                
                <div class="features-grid">
                    <div class="feature-card scroll-animate" data-scroll="true">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>Évolution des salaires</h3>
                        <p>Visualisez l'évolution des salaires dans votre entreprise sur les 12 derniers mois avec des graphiques interactifs.</p>
                        <button class="btn btn-primary" style="margin-top: 15px;" onclick="showNotification('Graphique des salaires généré!', 'success')">
                            <i class="fas fa-chart-line"></i> Voir le graphique
                        </button>
                    </div>
                    
                    <div class="feature-card scroll-animate" data-scroll="true">
                        <div class="feature-icon" style="background-color: var(--success-color);">
                            <i class="fas fa-file-csv"></i>
                        </div>
                        <h3>Export de données</h3>
                        <p>Exportez toutes vos données de paie dans différents formats pour analyse externe ou archivage légal.</p>
                        <button class="btn btn-success" style="margin-top: 15px;" onclick="exportData()">
                            <i class="fas fa-file-export"></i> Exporter données
                        </button>
                    </div>
                    
                    <div class="feature-card scroll-animate" data-scroll="true">
                        <div class="feature-icon" style="background-color: var(--warning-color);">
                            <i class="fas fa-balance-scale"></i>
                        </div>
                        <h3>Conformité légale</h3>
                        <p>Générez les déclarations sociales obligatoires (DSN, URSSAF) directement depuis votre dashboard.</p>
                        <button class="btn btn-warning" style="margin-top: 15px;" onclick="showNotification('Déclarations sociales générées!', 'success')">
                            <i class="fas fa-file-contract"></i> Générer déclarations
                        </button>
                    </div>
                </div>
                
                <div class="section" style="margin-top: 30px;">
                    <h3>Rapports disponibles</h3>
                    <p>Sélectionnez un rapport à générer :</p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px; margin-top: 20px;">
                        <button class="btn btn-primary" onclick="showNotification('Rapport des charges sociales généré!', 'success')">
                            <i class="fas fa-file-invoice"></i> Charges sociales
                        </button>
                        <button class="btn btn-success" onclick="showNotification('Rapport des congés généré!', 'success')">
                            <i class="fas fa-umbrella-beach"></i> Congés et absences
                        </button>
                        <button class="btn btn-warning" onclick="showNotification('Rapport fiscal généré!', 'success')">
                            <i class="fas fa-landmark"></i> Déclaration fiscale
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Settings Page -->
            <div class="page" id="settings-page">
                <div class="page-header">
                    <h1>Paramètres du Compte</h1>
                    <p class="page-description">Configurez votre compte, les paramètres de paie, les modèles de documents et les préférences de notification.</p>
                </div>
                
                <div class="features-grid">
                    <div class="feature-card scroll-animate" data-scroll="true">
                        <div class="feature-icon">
                            <i class="fas fa-building"></i>
                        </div>
                        <h3>Informations entreprise</h3>
                        <p>Gérez les informations de votre entreprise (SIRET, adresse, convention collective, etc.) utilisées pour les documents officiels.</p>
                        <button class="btn btn-primary" style="margin-top: 15px;" onclick="showNotification('Informations entreprise ouvertes!', 'info')">
                            <i class="fas fa-edit"></i> Modifier
                        </button>
                    </div>
                    
                    <div class="feature-card scroll-animate" data-scroll="true">
                        <div class="feature-icon" style="background-color: var(--success-color);">
                            <i class="fas fa-file-signature"></i>
                        </div>
                        <h3>Modèles de documents</h3>
                        <p>Personnalisez les modèles de bulletins de paie, contrats de travail et autres documents administratifs.</p>
                        <button class="btn btn-success" style="margin-top: 15px;" onclick="showNotification('Éditeur de modèles ouvert!', 'info')">
                            <i class="fas fa-paint-brush"></i> Personnaliser
                        </button>
                    </div>
                    
                    <div class="feature-card scroll-animate" data-scroll="true">
                        <div class="feature-icon" style="background-color: var(--warning-color);">
                            <i class="fas fa-bell"></i>
                        </div>
                        <h3>Notifications et alertes</h3>
                        <p>Configurez les notifications par email et les alertes pour les échéances de paie et les déclarations obligatoires.</p>
                        <button class="btn btn-warning" style="margin-top: 15px;" onclick="showNotification('Paramètres de notifications ouverts!', 'info')">
                            <i class="fas fa-cog"></i> Configurer
                        </button>
                    </div>
                </div>
                
                <div class="section" style="margin-top: 30px;">
                    <h3>Paramètres de sécurité</h3>
                    <p>Gérez la sécurité de votre compte :</p>
                    
                    <div style="margin-top: 20px;">
                        <button class="btn btn-primary" onclick="showNotification('Paramètres de sécurité ouverts!', 'info')">
                            <i class="fas fa-user-shield"></i> Sécurité du compte
                        </button>
                        <button class="btn btn-success" onclick="showNotification('Journal d\'activité ouvert!', 'info')" style="margin-left: 10px;">
                            <i class="fas fa-history"></i> Journal d'activité
                        </button>
                        <button class="btn btn-warning" onclick="showNotification('Gestion des utilisateurs ouverte!', 'info')" style="margin-left: 10px;">
                            <i class="fas fa-users-cog"></i> Gestion des utilisateurs
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Help Page -->
            <div class="page" id="help-page">
                <div class="page-header">
                    <h1>Aide et Support</h1>
                    <p class="page-description">Trouvez des réponses à vos questions, consultez la documentation et contactez notre support technique.</p>
                </div>
                
                <div class="features-grid">
                    <div class="feature-card scroll-animate" data-scroll="true">
                        <div class="feature-icon">
                            <i class="fas fa-book"></i>
                        </div>
                        <h3>Documentation</h3>
                        <p>Accédez à la documentation complète de PaiePro avec des guides pas à pas et des tutoriels vidéo.</p>
                        <button class="btn btn-primary" style="margin-top: 15px;" onclick="showNotification('Documentation ouverte!', 'info')">
                            <i class="fas fa-external-link-alt"></i> Ouvrir documentation
                        </button>
                    </div>
                    
                    <div class="feature-card scroll-animate" data-scroll="true">
                        <div class="feature-icon" style="background-color: var(--success-color);">
                            <i class="fas fa-question-circle"></i>
                        </div>
                        <h3>FAQ</h3>
                        <p>Consultez les questions fréquemment posées pour trouver rapidement des réponses à vos interrogations.</p>
                        <button class="btn btn-success" style="margin-top: 15px;" onclick="showNotification('FAQ ouverte!', 'info')">
                            <i class="fas fa-search"></i> Voir la FAQ
                        </button>
                    </div>
                    
                    <div class="feature-card scroll-animate" data-scroll="true">
                        <div class="feature-icon" style="background-color: var(--warning-color);">
                            <i class="fas fa-headset"></i>
                        </div>
                        <h3>Support technique</h3>
                        <p>Contactez notre équipe de support technique par email, chat ou téléphone pour une assistance personnalisée.</p>
                        <button class="btn btn-warning" style="margin-top: 15px;" onclick="showNotification('Formulaire de contact ouvert!', 'info')">
                            <i class="fas fa-envelope"></i> Contacter le support
                        </button>
                    </div>
                </div>
                
                <div class="section" style="margin-top: 30px;">
                    <h3>Ressources supplémentaires</h3>
                    <p>Accédez à d'autres ressources utiles :</p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px; margin-top: 20px;">
                        <button class="btn btn-primary" onclick="showNotification('Guide de la paie ouvert!', 'info')">
                            <i class="fas fa-graduation-cap"></i> Guide de la paie
                        </button>
                        <button class="btn btn-success" onclick="showNotification('Modèles ouverts!', 'info')">
                            <i class="fas fa-file-download"></i> Télécharger modèles
                        </button>
                        <button class="btn btn-warning" onclick="showNotification('Webinaires ouverts!', 'info')">
                            <i class="fas fa-video"></i> Webinaires formation
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Add Employee Modal -->
    <div class="modal" id="add-employee-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Ajouter un employé</h3>
                <button class="close-modal" id="close-modal">&times;</button>
            </div>
            
            <form id="add-employee-form">
                <div class="form-group">
                    <label for="employee-name">Nom complet</label>
                    <input type="text" id="employee-name" class="form-control" placeholder="Prénom Nom" required>
                </div>
                
                <div class="form-group">
                    <label for="employee-position">Poste</label>
                    <input type="text" id="employee-position" class="form-control" placeholder="Développeur, Comptable, etc." required>
                </div>
                
                <div class="form-group">
                    <label for="employee-salary">Salaire brut mensuel (€)</label>
                    <input type="number" id="employee-salary" class="form-control" placeholder="3000" min="0" step="100" required>
                </div>
                
                <div class="form-group">
                    <label for="employee-email">Email</label>
                    <input type="email" id="employee-email" class="form-control" placeholder="email@entreprise.com" required>
                </div>
                
                <div class="form-group">
                    <label for="employee-iban">IBAN</label>
                    <input type="text" id="employee-iban" class="form-control" placeholder="FR76 XXXX XXXX XXXX" required>
                </div>
                
                <button type="submit" class="btn btn-primary btn-block">Ajouter l'employé</button>
            </form>
        </div>
    </div>
    
    <!-- Pay All Modal -->
    <div class="modal" id="pay-all-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirmer le paiement groupé</h3>
                <button class="close-modal" id="close-pay-modal">&times;</button>
            </div>
            
            <div class="pay-all-info" style="margin-bottom: 25px;">
                <p><i class="fas fa-exclamation-triangle"></i> Vous êtes sur le point d'effectuer un virement groupé pour payer les salaires de <strong id="pending-count">4</strong> employés.</p>
                <p>Montant total: <strong>€<span id="total-pending-amount">15,320</span></strong></p>
            </div>
            
            <div class="form-group">
                <label for="transfer-date">Date de virement</label>
                <input type="date" id="transfer-date" class="form-control" required>
            </div>
            
            <div class="form-group">
                <label for="transfer-reference">Référence du virement</label>
                <input type="text" id="transfer-reference" class="form-control" placeholder="SALAIRE_OCT_2023" required>
            </div>
            
            <button class="btn btn-success btn-block" id="confirm-pay-all-btn">
                <i class="fas fa-check"></i> Confirmer et procéder au paiement
            </button>
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notification-text">Opération réussie !</span>
    </div>

    <script>
        // Données initiales des employés
        let employees = [
            { id: 1, name: "Marie Lefevre", position: "Directrice Marketing", salary: 4500, status: "paid", email: "marie@entreprise.com", iban: "FR76 3000 4000 0100" },
            { id: 2, name: "Thomas Martin", position: "Développeur Fullstack", salary: 3800, status: "paid", email: "thomas@entreprise.com", iban: "FR76 3000 4000 0200" },
            { id: 3, name: "Sophie Bernard", position: "Comptable", salary: 3200, status: "paid", email: "sophie@entreprise.com", iban: "FR76 3000 4000 0300" },
            { id: 4, name: "Julien Petit", position: "Commercial", salary: 3000, status: "paid", email: "julien@entreprise.com", iban: "FR76 3000 4000 0400" },
            { id: 5, name: "Camille Roux", position: "RH Manager", salary: 4200, status: "pending", email: "camille@entreprise.com", iban: "FR76 3000 4000 0500" },
            { id: 6, name: "Nicolas Laurent", position: "Développeur Frontend", salary: 3500, status: "pending", email: "nicolas@entreprise.com", iban: "FR76 3000 4000 0600" },
            { id: 7, name: "Isabelle Moreau", position: "Assistante", salary: 2300, status: "unpaid", email: "isabelle@entreprise.com", iban: "FR76 3000 4000 0700" },
            { id: 8, name: "David Girard", position: "Responsable Logistique", salary: 3700, status: "unpaid", email: "david@entreprise.com", iban: "FR76 3000 4000 0800" }
        ];

        // Titres des pages
        const pageTitles = {
            'dashboard': 'Tableau de bord - Gestion de paie',
            'employees': 'Gestion des employés',
            'payroll': 'Gestion de la paie',
            'reports': 'Rapports et statistiques',
            'settings': 'Paramètres du compte',
            'help': 'Aide et support'
        };

        // Initialisation du dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Afficher la date actuelle
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('current-date').textContent = now.toLocaleDateString('fr-FR', options);
            
            // Initialiser le tableau des employés
            renderEmployeesTable();
            updateStats();
            
            // Initialiser la navigation smooth
            initSmoothNavigation();
            
            // Initialiser les animations au défilement
            initScrollAnimations();
            
            // Événements pour les modals
            document.getElementById('add-employee-btn').addEventListener('click', openAddEmployeeModal);
            document.getElementById('add-employee-btn-2').addEventListener('click', openAddEmployeeModal);
            document.getElementById('close-modal').addEventListener('click', closeAddEmployeeModal);
            document.getElementById('close-pay-modal').addEventListener('click', closePayAllModal);
            
            // Événement pour le formulaire d'ajout d'employé
            document.getElementById('add-employee-form').addEventListener('submit', addEmployee);
            
            // Événement pour le bouton "Payer Tout"
            document.getElementById('pay-all-btn').addEventListener('click', openPayAllModal);
            
            // Événement pour confirmer le paiement groupé
            document.getElementById('confirm-pay-all-btn').addEventListener('click', confirmPayAll);
            
            // Événements pour les autres boutons
            document.getElementById('generate-payslips-btn').addEventListener('click', generatePayslips);
            document.getElementById('export-data-btn').addEventListener('click', exportData);
            
            // Événement pour le toggle du menu
            document.getElementById('menu-toggle').addEventListener('click', toggleMenu);
            
            // Fermer la modal en cliquant en dehors
            window.addEventListener('click', function(event) {
                const addEmployeeModal = document.getElementById('add-employee-modal');
                const payAllModal = document.getElementById('pay-all-modal');
                
                if (event.target === addEmployeeModal) {
                    closeAddEmployeeModal();
                }
                
                if (event.target === payAllModal) {
                    closePayAllModal();
                }
            });
            
            // Définir la date minimale pour le virement (aujourd'hui)
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('transfer-date').min = today;
            document.getElementById('transfer-date').value = today;
            
            // Mettre à jour les statistiques sur la page employés
            updateEmployeePageStats();
        });

        // Initialiser la navigation smooth
        function initSmoothNavigation() {
            // Navigation via la sidebar - TOUS LES LIENS SONT CLIQUABLES
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');
                    
                    // Mettre à jour la classe active
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Naviguer vers la page
                    navigateToPage(page);
                    
                    // Fermer le menu sur mobile
                    if (window.innerWidth <= 992) {
                        toggleMenu();
                    }
                });
            });
            
            // Navigation via les cartes de stats
            const statCards = document.querySelectorAll('.stat-card[data-action]');
            statCards.forEach(card => {
                card.addEventListener('click', function() {
                    const action = this.getAttribute('data-action');
                    
                    if (action === 'employees' || action === 'payroll') {
                        // Naviguer vers la page correspondante
                        navigateToPage(action);
                        
                        // Animation de la carte cliquée
                        this.style.transform = 'scale(0.95)';
                        setTimeout(() => {
                            this.style.transform = '';
                        }, 300);
                    }
                });
            });
        }

        // Naviguer vers une page avec animation
        function navigateToPage(pageId) {
            const mainContent = document.getElementById('main-content');
            const currentPage = document.querySelector('.page.active');
            const targetPage = document.getElementById(pageId + '-page');
            const pageTitle = document.getElementById('page-title');
            
            if (!targetPage || currentPage === targetPage) return;
            
            // Animation de transition
            mainContent.classList.add('fade-out');
            
            setTimeout(() => {
                // Changer de page
                currentPage.classList.remove('active');
                targetPage.classList.add('active');
                
                // Mettre à jour le titre
                pageTitle.textContent = pageTitles[pageId] || pageTitles['dashboard'];
                
                // Animation d'entrée
                mainContent.classList.remove('fade-out');
                mainContent.classList.add('fade-in');
                
                setTimeout(() => {
                    mainContent.classList.remove('fade-in');
                }, 600);
                
                // Réinitialiser les animations de défilement
                setTimeout(initScrollAnimations, 100);
                
                // Mettre à jour les statistiques si on va sur la page employés
                if (pageId === 'employees') {
                    updateEmployeePageStats();
                }
            }, 300);
        }

        // Initialiser les animations au défilement
        function initScrollAnimations() {
            const animatedElements = document.querySelectorAll('.scroll-animate, [data-scroll="true"]');
            
            // Fonction pour vérifier si un élément est dans le viewport
            const isInViewport = (element) => {
                const rect = element.getBoundingClientRect();
                return (
                    rect.top <= (window.innerHeight || document.documentElement.clientHeight) * 0.85 &&
                    rect.bottom >= 0
                );
            };
            
            // Vérifier initialement les éléments visibles
            animatedElements.forEach(element => {
                if (isInViewport(element)) {
                    element.classList.add('visible');
                }
            });
            
            // Écouter l'événement de défilement
            window.addEventListener('scroll', () => {
                animatedElements.forEach(element => {
                    if (isInViewport(element)) {
                        element.classList.add('visible');
                    }
                });
            });
        }

        // Toggle du menu sur mobile
        function toggleMenu() {
            const sidebar = document.querySelector('.sidebar');
            sidebar.classList.toggle('active');
            
            // Animation du bouton
            const menuToggle = document.getElementById('menu-toggle');
            const icon = menuToggle.querySelector('i');
            
            if (sidebar.classList.contains('active')) {
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-times');
            } else {
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            }
        }

        // Mettre à jour les statistiques sur la page employés
        function updateEmployeePageStats() {
            // Nombre total d'employés
            document.getElementById('total-employees-2').textContent = employees.length;
            
            // Salaire moyen
            const totalSalary = employees.reduce((sum, emp) => sum + emp.salary, 0);
            const avgSalary = Math.round(totalSalary / employees.length);
            document.getElementById('avg-salary').textContent = `€${avgSalary.toLocaleString('fr-FR')}`;
            
            // Nombre d'employés actifs (tous sont actifs dans cet exemple)
            document.getElementById('active-employees').textContent = employees.length;
        }

        // Rendre le tableau des employés
        function renderEmployeesTable() {
            const tbody = document.getElementById('employees-tbody');
            tbody.innerHTML = '';
            
            employees.forEach(employee => {
                const statusText = {
                    'paid': 'Payé',
                    'pending': 'En attente',
                    'unpaid': 'Non payé'
                };
                
                const statusClass = {
                    'paid': 'paid',
                    'pending': 'pending',
                    'unpaid': 'unpaid'
                };
                
                // Créer les initiales pour l'avatar
                const initials = employee.name.split(' ')
                    .map(name => name[0])
                    .join('')
                    .toUpperCase();
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <div class="employee-info">
                            <div class="employee-avatar">${initials}</div>
                            <div>
                                <strong>${employee.name}</strong><br>
                                <small>${employee.email}</small>
                            </div>
                        </div>
                    </td>
                    <td>${employee.position}</td>
                    <td>€${employee.salary.toLocaleString('fr-FR')}</td>
                    <td><span class="status ${statusClass[employee.status]}">${statusText[employee.status]}</span></td>
                    <td>
                        <button class="btn btn-primary btn-sm" onclick="smoothAction('generatePayslip', ${employee.id})">
                            <i class="fas fa-file-invoice"></i> Bulletin
                        </button>
                        <button class="btn btn-success btn-sm" onclick="smoothAction('payEmployee', ${employee.id})" ${employee.status === 'paid' ? 'disabled' : ''}>
                            <i class="fas fa-euro-sign"></i> Payer
                        </button>
                    </td>
                `;
                
                tbody.appendChild(row);
            });
        }

        // Mettre à jour les statistiques
        function updateStats() {
            // Nombre total d'employés
            document.getElementById('total-employees').textContent = employees.length;
            
            // Masse salariale totale
            const totalSalary = employees.reduce((sum, emp) => sum + emp.salary, 0);
            document.getElementById('total-payroll').textContent = `€${totalSalary.toLocaleString('fr-FR')}`;
            
            // Nombre d'employés payés
            const paidCount = employees.filter(emp => emp.status === 'paid').length;
            document.getElementById('paid-count').textContent = paidCount;
            
            // Montant total des salaires en attente pour "Payer Tout"
            const pendingEmployees = employees.filter(emp => emp.status !== 'paid');
            const pendingAmount = pendingEmployees.reduce((sum, emp) => sum + emp.salary, 0);
            document.getElementById('pay-all-amount').textContent = pendingAmount.toLocaleString('fr-FR');
            
            // Mettre à jour les informations dans la modal de paiement groupé
            document.getElementById('pending-count').textContent = pendingEmployees.length;
            document.getElementById('total-pending-amount').textContent = pendingAmount.toLocaleString('fr-FR');
        }

        // Ouvrir la modal d'ajout d'employé
        function openAddEmployeeModal() {
            document.getElementById('add-employee-modal').style.display = 'flex';
            
            // Animation d'entrée
            setTimeout(() => {
                document.querySelector('#add-employee-modal .modal-content').classList.add('success-animation');
            }, 100);
        }

        // Fermer la modal d'ajout d'employé
        function closeAddEmployeeModal() {
            const modal = document.getElementById('add-employee-modal');
            modal.style.display = 'none';
            document.getElementById('add-employee-form').reset();
        }

        // Ajouter un nouvel employé
        function addEmployee(e) {
            e.preventDefault();
            
            const name = document.getElementById('employee-name').value;
            const position = document.getElementById('employee-position').value;
            const salary = parseInt(document.getElementById('employee-salary').value);
            const email = document.getElementById('employee-email').value;
            const iban = document.getElementById('employee-iban').value;
            
            // Créer un nouvel employé
            const newEmployee = {
                id: employees.length + 1,
                name,
                position,
                salary,
                status: 'unpaid',
                email,
                iban
            };
            
            // Ajouter à la liste
            employees.push(newEmployee);
            
            // Mettre à jour l'affichage
            renderEmployeesTable();
            updateStats();
            updateEmployeePageStats();
            
            // Fermer la modal et réinitialiser le formulaire
            closeAddEmployeeModal();
            
            // Afficher une notification
            showNotification(`Employé ${name} ajouté avec succès!`);
            
            // Naviguer vers la page des employés
            setTimeout(() => {
                navigateToPage('employees');
            }, 1500);
        }

        // Ouvrir la modal de paiement groupé
        function openPayAllModal() {
            const pendingEmployees = employees.filter(emp => emp.status !== 'paid');
            
            if (pendingEmployees.length === 0) {
                showNotification("Tous les employés ont déjà été payés!", 'info');
                return;
            }
            
            document.getElementById('pay-all-modal').style.display = 'flex';
        }

        // Fermer la modal de paiement groupé
        function closePayAllModal() {
            document.getElementById('pay-all-modal').style.display = 'none';
        }

        // Confirmer le paiement groupé
        function confirmPayAll() {
            const transferDate = document.getElementById('transfer-date').value;
            const transferReference = document.getElementById('transfer-reference').value;
            
            if (!transferDate || !transferReference) {
                showNotification("Veuillez remplir tous les champs!", 'error');
                return;
            }
            
            // Afficher la barre de progression
            const progressBar = document.getElementById('pay-progress');
            const progressFill = progressBar.querySelector('.progress-fill');
            const payAllBtn = document.getElementById('pay-all-btn');
            
            progressBar.style.display = 'block';
            payAllBtn.disabled = true;
            
            // Animation de progression
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += 10;
                progressFill.style.width = `${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(progressInterval);
                    
                    // Mettre à jour le statut de tous les employés non payés
                    employees.forEach(emp => {
                        if (emp.status !== 'paid') {
                            emp.status = 'paid';
                        }
                    });
                    
                    // Mettre à jour l'affichage
                    renderEmployeesTable();
                    updateStats();
                    updateEmployeePageStats();
                    
                    // Fermer la modal
                    closePayAllModal();
                    
                    // Cacher la barre de progression
                    setTimeout(() => {
                        progressBar.style.display = 'none';
                        progressFill.style.width = '0%';
                        payAllBtn.disabled = false;
                    }, 500);
                    
                    // Afficher une notification
                    showNotification(`Paiement groupé effectué avec succès!<br>Montant: €${document.getElementById('pay-all-amount').textContent}`);
                    
                    // Animation de succès
                    payAllBtn.classList.add('success-animation');
                    setTimeout(() => {
                        payAllBtn.classList.remove('success-animation');
                    }, 1500);
                    
                    // Naviguer vers la page de paie
                    setTimeout(() => {
                        navigateToPage('payroll');
                    }, 2000);
                }
            }, 150);
        }

        // Exécuter une action avec animation smooth
        function smoothAction(action, param) {
            // Animation de clic
            event.target.classList.add('success-animation');
            setTimeout(() => {
                event.target.classList.remove('success-animation');
            }, 1500);
            
            // Exécuter l'action
            switch(action) {
                case 'generatePayslip':
                    generatePayslip(param);
                    break;
                case 'payEmployee':
                    payEmployee(param);
                    break;
            }
        }

        // Générer un bulletin de paie pour un employé
        function generatePayslip(employeeId) {
            const employee = employees.find(emp => emp.id === employeeId);
            
            // Calculer le salaire net (approximation)
            const netSalary = employee.salary * 0.8; // 20% de charges
            
            showNotification(`Bulletin généré pour ${employee.name}<br>Envoyé à ${employee.email}`);
            
            // Naviguer vers la page de paie après un délai
            setTimeout(() => {
                navigateToPage('payroll');
            }, 2000);
        }

        // Payer un employé individuellement
        function payEmployee(employeeId) {
            const employee = employees.find(emp => emp.id === employeeId);
            
            if (employee.status === 'paid') {
                showNotification("Cet employé a déjà été payé!", 'info');
                return;
            }
            
            employee.status = 'paid';
            
            // Mettre à jour l'affichage
            renderEmployeesTable();
            updateStats();
            updateEmployeePageStats();
            
            showNotification(`${employee.name} a été payé<br>Montant: €${employee.salary.toLocaleString('fr-FR')}`);
            
            // Naviguer vers la page de paie après un délai
            setTimeout(() => {
                navigateToPage('payroll');
            }, 2000);
        }

        // Générer tous les bulletins de paie
        function generatePayslips() {
            const unpaidEmployees = employees.filter(emp => emp.status !== 'paid');
            
            if (unpaidEmployees.length === 0) {
                showNotification("Tous les bulletins ont déjà été générés!", 'info');
                return;
            }
            
            // Animation du bouton
            const btn = document.getElementById('generate-payslips-btn');
            btn.classList.add('success-animation');
            setTimeout(() => {
                btn.classList.remove('success-animation');
            }, 1500);
            
            showNotification(`${unpaidEmployees.length} bulletins générés et envoyés par email`);
            
            // Naviguer vers la page de paie
            setTimeout(() => {
                navigateToPage('payroll');
            }, 2000);
        }

        // Exporter les données
        function exportData() {
            // Animation du bouton
            const btn = document.getElementById('export-data-btn');
            btn.classList.add('success-animation');
            setTimeout(() => {
                btn.classList.remove('success-animation');
            }, 1500);
            
            const dataStr = JSON.stringify(employees, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `donnees_paie_${new Date().toISOString().split('T')[0]}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            showNotification("Données exportées avec succès!");
            
            // Naviguer vers la page des rapports après un délai
            setTimeout(() => {
                navigateToPage('reports');
            }, 2000);
        }

        // Afficher une notification
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notification-text');
            
            // Définir le texte et la couleur selon le type
            notificationText.innerHTML = message;
            
            if (type === 'error') {
                notification.style.backgroundColor = 'var(--danger-color)';
                notification.querySelector('i').className = 'fas fa-exclamation-circle';
            } else if (type === 'info') {
                notification.style.backgroundColor = 'var(--warning-color)';
                notification.querySelector('i').className = 'fas fa-info-circle';
            } else {
                notification.style.backgroundColor = 'var(--success-color)';
                notification.querySelector('i').className = 'fas fa-check-circle';
            }
            
            // Afficher la notification
            notification.classList.add('show');
            
            // Cacher après 3 secondes
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>